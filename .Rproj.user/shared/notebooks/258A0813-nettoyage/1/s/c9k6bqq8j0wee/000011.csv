"0",""
"0"," #ÉTAPE 2 : FEATURE ENGINEERING AU NIVEAU COMMUNAL"
"0",""
"0","# Maintenant qu'on a les totaux par commune, on peut calculer nos indicateurs."
"0",""
"0","communes_features <- communes_data %>%"
"0","  mutate("
"0","    part_femmes_actives = ifelse(p21_act1564 == 0, 0, (p21_fact1564 / p21_act1564) * 100),"
"0","    part_cadres_total = ifelse(p21_act1564 == 0, 0, (c21_act1564_cs3 / p21_act1564) * 100),"
"0","    tx_tps_partiel_femmes = ifelse(p21_factocc15p == 0, 0, (p21_fsal15p_tp / p21_factocc15p) * 100)"
"0","  ) %>%"
"0","  select("
"0","    code_commune = com, # On renomme 'com' en 'code_commune' pour la jointure"
"0","    libelle_commune = libcom,"
"0","    code_departement = dep,"
"0","    part_femmes_actives,"
"0","    part_cadres_total,"
"0","    tx_tps_partiel_femmes"
"0","  )"
"0",""
"0","cat(""✅ Indicateurs calculés pour"", nrow(communes_features), ""communes.\n"")"
"1","✅ Indicateurs calculés pour"
"1"," "
"1","34970"
"1"," "
"1","communes.
"
